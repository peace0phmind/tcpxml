- name: "pos"
  description: "轴位置"
  requestFormat: "<axes><req>yes</req><auto>yes</auto><sub>pos</sub></axes>\n"
  responseIf: "count(/axes/sub[text() = 'pos']) > 0"
  values:
    - name: "pos_ax1"
      xQuery: "string(/axes/ax1/text())"
      type: "string"
    - name: "pos_ax2"
      xQuery: "string(/axes/ax2/text())"
      type: "string"
    - name: "pos_ax3"
      xQuery: "string(/axes/ax3/text())"
      type: "string"
    - name: "pos_ax4"
      xQuery: "string(/axes/ax4/text())"
      type: "string"
    - name: "pos_ax5"
      xQuery: "string(/axes/ax5/text())"
      type: "string"
    - name: "pos_ax6"
      xQuery: "string(/axes/ax6/text())"
      type: "string"
    - name: "pos_ax7"
      xQuery: "string(/axes/ax7/text())"
      type: "string"


- name: "vel"
  description: "轴速度"
  requestFormat: "<axes><req>yes</req><auto>yes</auto><sub>vel</sub></axes>\n"
  responseIf: "count(/axes/sub[text() = 'vel']) > 0"
  values:
    - name: "vel_ax1"
      xQuery: "number(/axes/ax1/text())"
      type: "int"
    - name: "vel_ax2"
      xQuery: "number(/axes/ax2/text())"
      type: "int"
    - name: "vel_ax3"
      xQuery: "number(/axes/ax3/text())"
      type: "int"
    - name: "vel_ax4"
      xQuery: "number(/axes/ax4/text())"
      type: "int"
    - name: "vel_ax5"
      xQuery: "number(/axes/ax5/text())"
      type: "int"
    - name: "vel_ax6"
      xQuery: "number(/axes/ax6/text())"
      type: "int"
    - name: "vel_ax7"
      xQuery: "number(/axes/ax7/text())"
      type: "int"


- name: "basis"
  description: "当前NC程序段"
  requestFormat: "<blocks><sub>basis</sub><auto>yes</auto></blocks>\n"
  responseIf: "count(/blocks/sub[text() = 'basis']) > 0"
  values:
    - name: "basis_act"
      xQuery: "string(/blocks/act/text())"
      type: "string"
    - name: "basis_pas"
      xQuery: "string(/blocks/pas/text())"
      type: "string"
    - name: "basis_temp"
      xQuery: "string(/blocks/temp/text())"
      type: "string"


- name: "exe"
  description: "当前NC程序路径"
  requestFormat: "<dir><sub>exe</sub></dir>\n"
  responseIf: "count(/dir/sub[text() = 'exe']) > 0"
  values:
    - name: "exe_name"
      xQuery: "string(/dir/name/text())"
      type: "string"
    - name: "exe_nmb"
      xQuery: "string(/dir/nmb/text())"
      type: "string"
    - name: "exe_path"
      xQuery: "string(/dir/path/text())"
      type: "string"


- name: "status"
  description: "机床状态"
  requestFormat: "<ncda><var>status</var><auto>yes</auto></ncda>\n"
  responseIf: "count(/ncda/status) > 0"
  values:
    - name: "status"
      xQuery: "number(/ncda/status/text())"
      type: "int"


- name: "mode"
  description: "机床模式"
  requestFormat: "<ncda><var>mode,mmode,amode</var><auto>yes</auto></ncda>\n"
  responseIf: "count(/ncda/amode | mmode | mode) > 0"
  values:
    - name: "mode"
      xQuery: "number(/ncda/mode/text())"
      type: "int"
    - name: "amode"
      xQuery: "number(/ncda/amode/text())"
      type: "int"
    - name: "mmode"
      xQuery: "number(/ncda/mmode/text())"
      type: "int"


- name: "laser"
  description: "激光电压"
  requestFormat: "<laser><auto>yes</auto></laser>\n"
  responseIf: "count(/laser) > 0"
  values:
    - name: "laser_act1"
      xQuery: "number(/laser/act1/text())"
      type: "int"
    - name: "laser_act2"
      xQuery: "number(/laser/act2/text())"
      type: "int"
    - name: "laser_act3"
      xQuery: "number(/laser/act3/text())"
      type: "int"
    - name: "laser_preset1"
      xQuery: "number(/laser/preset1/text())"
      type: "int"
    - name: "laser_preset2"
      xQuery: "number(/laser/preset2/text())"
      type: "int"
    - name: "laser_preset3"
      xQuery: "number(/laser/preset3/text())"
      type: "int"


- name: "alarm"
  description: "报警信息"
  requestFormat: "<alarm><auto>yes</auto></alarm>\n"
  responseIf: "count(/alarm) > 0"
  values:
    - name: "alarm_no"
      xQuery: "number(/alarm/no/text())"
      type: "int"
    - name: "alarm_prio"
      xQuery: "number(/alarm/prio/text())"
      type: "int"
    - name: "alarm_st"
      xQuery: "string(/alarm/st/text())"
      type: "string"
    - name: "alarm_value"
      xQuery: "string-join(/alarm/*[starts-with(name(), 'v')]/text(), ';')"
      type: "string"

